<modification>
    <name>Storage Modification</name>
	<version>1.0</version>
	<link>http://www.towerthemes.com/</link>
	<author>Plaza Theme</author>
	<code>tt_saharan_fashion</code>
	
	<file path="admin/controller/common/header.php">
        <operation>
            <search><![CDATA[$data['title'] = $this->document->getTitle();]]></search>
            <add position="replace"><![CDATA[
				$data['title'] = strip_tags($this->document->getTitle());
			]]></add>
        </operation>
    </file>

	<file path="admin/controller/design/layout.php">
		<operation>
			<search><![CDATA[$data['text_column_right'] = $this->language->get('text_column_right');]]></search>
			<add position="after"><![CDATA[
				$data['text_block1'] = $this->language->get('text_block1');
				$data['text_block2'] = $this->language->get('text_block2');
				$data['text_block3'] = $this->language->get('text_block3');
				$data['text_block4'] = $this->language->get('text_block4');
			]]></add>
		</operation>
	</file>

	<file path="admin/language/en-gb/design/layout.php">
		<operation>
			<search><![CDATA[$_['text_column_right']   = 'Column Right';]]></search>
			<add position="after"><![CDATA[
				$_['text_block1']   = 'Block 1';
				$_['text_block2']   = 'Block 2';
				$_['text_block3']   = 'Block 3';
				$_['text_block4']   = 'Block 4';
			]]></add>
		</operation>
	</file>

	<file path="admin/view/template/design/layout_form.tpl">
		<operation>
			<search><![CDATA[<td class="text-left"><select name="layout_module[<?php echo $module_row; ?>][position]" class="form-control">]]></search>
			<add position="after"><![CDATA[
				<?php if ($layout_module['position'] == 'block1') { ?>
				<option value="block1" selected="selected"><?php echo $text_block1; ?></option>
				<?php } else { ?>
				<option value="block1"><?php echo $text_block1; ?></option>
				<?php } ?>
				
				<?php if ($layout_module['position'] == 'block2') { ?>
				<option value="block2" selected="selected"><?php echo $text_block2; ?></option>
				<?php } else { ?>
				<option value="block2"><?php echo $text_block2; ?></option>
				<?php } ?>
				
				<?php if ($layout_module['position'] == 'block3') { ?>
				<option value="block3" selected="selected"><?php echo $text_block3; ?></option>
				<?php } else { ?>
				<option value="block3"><?php echo $text_block3; ?></option>
				<?php } ?>
				
				<?php if ($layout_module['position'] == 'block4') { ?>
				<option value="block4" selected="selected"><?php echo $text_block4; ?></option>
				<?php } else { ?>
				<option value="block4"><?php echo $text_block4; ?></option>
				<?php } ?>
			]]></add>
		</operation>

		<operation>
			<search><![CDATA[html += '    <option value="column_right"><?php echo $text_column_right; ?></option>';]]></search>
			<add position="after"><![CDATA[
				html += '    <option value="block1"><?php echo $text_block1; ?></option>';
				html += '    <option value="block2"><?php echo $text_block2; ?></option>';
				html += '    <option value="block3"><?php echo $text_block3; ?></option>';
				html += '    <option value="block4"><?php echo $text_block4; ?></option>';
			]]></add>
		</operation>
	</file>
	
	<file path="catalog/controller/common/cart.php">
		<operation>
			<search><![CDATA[$data['text_empty'] = $this->language->get('text_empty');]]></search>
			<add position="after"><![CDATA[
				$data['text_mycart'] = $this->language->get('text_mycart');
				$data['text_items2'] = sprintf($this->language->get('text_items2'), $this->cart->countProducts() + (isset($this->session->data['vouchers']) ? count($this->session->data['vouchers']) : 0), $this->currency->format($total, $this->session->data['currency']));
				$data['text_items3'] = sprintf($this->language->get('text_items3'), $this->cart->countProducts() + (isset($this->session->data['vouchers']) ? count($this->session->data['vouchers']) : 0), $this->currency->format($total, $this->session->data['currency']));
			]]></add>
		</operation>
	</file>
	
	<file path="catalog/controller/common/home.php">
		<operation>
			<search><![CDATA[$this->response->setOutput($this->load->view('common/home', $data));]]></search>
			<add position="before"><![CDATA[
				$data['breadcrumbs'] = array();
				$data['breadcrumbs'][] = array(
					'text' => $this->language->get('text_home'),
					'href' => $this->url->link('common/home')
				);
			]]></add>
		</operation>
	</file>
	
	<file path="catalog/controller/module/category.php">
		<operation>
			<search><![CDATA[if ($category['category_id'] == $data['category_id']) {]]></search>
			<add position="replace"><![CDATA[
				if (true) {
			]]></add>
		</operation>
	</file>

	<file path="catalog/controller/common/header.php">
		<operation>
			<search><![CDATA[$data['telephone'] = $this->config->get('config_telephone');]]></search>
			<add position="after"><![CDATA[
				$data['block1'] = $this->load->controller('common/block1');
				if ($this->customer->isLogged()) {
					$data['text_message'] = sprintf($this->language->get('text_message2'),$this->customer->getFirstName(),$this->customer->getLastName());
				} else{
					$data['text_message'] = $this->language->get('text_message');
				}
				$data['text_phone'] = $this->language->get('text_phone');
				
			]]></add>
		</operation>
		<operation>
			<search><![CDATA[return $this->load->view('common/header', $data);]]></search>
			<add position="before"><![CDATA[
				if($this->config->get('ocajaxlogin_status')){
					$data['use_ajax_login'] = true;
				}else{
					$data['use_ajax_login'] = false;
				}
			]]></add>
		</operation>
	</file>
	
	<file path="catalog/controller/common/footer.php">
		<operation>
			<search><![CDATA[$data['text_newsletter'] = $this->language->get('text_newsletter');]]></search>
			<add position="after"><![CDATA[		
				$data['text_opentime'] = $this->language->get('text_opentime');
				$data['text_payment'] = $this->language->get('text_payment');
				$data['address'] = $this->config->get('config_address');			
				$data['telephone'] = $this->config->get('config_telephone');			
				$data['email'] = $this->config->get('config_email');			
				$data['opentime'] = $this->config->get('config_open');			
				$data['fax'] = $this->config->get('config_fax');
				$data['block2'] = $this->load->controller('common/block2');
				$data['block3'] = $this->load->controller('common/block3');
				$data['block4'] = $this->load->controller('common/block4');
				if ($this->request->server['HTTPS']) {
					$server = $this->config->get('config_ssl');
				} else {
					$server = $this->config->get('config_url');
				}
				if (is_file(DIR_IMAGE . $this->config->get('config_logo'))) {
					$data['logo'] = $server . 'image/' . $this->config->get('config_logo');
				} else {
					$data['logo'] = '';
				}
				$data['name'] = $this->config->get('config_name');
				$data['home'] = $this->url->link('common/home');
			]]></add>
		</operation>
		<operation>
			<search><![CDATA['title' => $result['title'],]]></search>
			<add position="after"><![CDATA[		
				'short-des' => utf8_substr(strip_tags(html_entity_decode($result['description'], ENT_QUOTES, 'UTF-8')), 0, 300),
			]]></add>
		</operation>
	</file>
	
	<file path="catalog/controller/module/carousel.php">
		<operation>
			<search><![CDATA[$this->document->addStyle('catalog/view/javascript/jquery/owl-carousel/owl.carousel.css');]]></search>
			<add position="replace"><![CDATA[
				//$this->document->addStyle('catalog/view/javascript/jquery/owl-carousel/owl.carousel.css');
			]]></add>
		</operation>
	</file>
	
	<file path="catalog/controller/module/banner.php">
		<operation>
			<search><![CDATA[$data['banners'] = array();]]></search>
			<add position="after"><![CDATA[
				$this->load->language('module/banner');
				$data['heading_title'] = $this->language->get('heading_title');
				$data['heading_title2'] = $this->language->get('heading_title2');
				$data['text_subtitle'] = $this->language->get('text_subtitle');
			]]></add>
		</operation>
		<operation>
			<search><![CDATA[$this->document->addStyle('catalog/view/javascript/jquery/owl-carousel/owl.carousel.css');]]></search>
			<add position="replace"><![CDATA[
				//$this->document->addStyle('catalog/view/javascript/jquery/owl-carousel/owl.carousel.css');
			]]></add>
		</operation>
	</file>
	
	<file path="catalog/controller/product/category.php">
		<operation>
			<search><![CDATA[foreach ($results as $result) {]]></search>
			<add position="before"><![CDATA[
				/* Get new product */
				$this->load->model('catalog/product');
		
				$data['new_products'] = array();
		
				$filter_data = array(
					'sort'  => 'p.date_added',
					'order' => 'DESC',
					'start' => 0,
					'limit' => 10
				);
		
				$new_results = $this->model_catalog_product->getProducts($filter_data);
				/* End */
			]]></add>
		</operation>
		<operation>
			<search><![CDATA[$data['products'][] = array(]]></search>
			<add position="before"><![CDATA[
				$is_new = false;
				if ($new_results) { 
					foreach($new_results as $new_r) {
						if($result['product_id'] == $new_r['product_id']) {
							$is_new = true;
						}
					}
				}
				if (($this->config->get('config_customer_price') && $this->customer->isLogged()) || !$this->config->get('config_customer_price')) {
					$price_num = $this->tax->calculate($result['price'], $result['tax_class_id'], $this->config->get('config_tax'));
				} else {
					$price_num = false;
				}

				if ((float)$result['special']) {
					$special_num = $this->tax->calculate($result['special'], $result['tax_class_id'], $this->config->get('config_tax'));
				} else {
					$special_num = false;
				}
				/// Product Rotator /
				$product_rotator_status = (int) $this->config->get('ocproductrotator_status');
				if($product_rotator_status == 1) {
				 $this->load->model('catalog/ocproductrotator');
				 $this->load->model('tool/image');
			 
				 $product_id = $result['product_id'];
				 $product_rotator_image = $this->model_catalog_ocproductrotator->getProductRotatorImage($product_id);
			 
				 if($product_rotator_image) {
				  $rotator_image = $this->model_tool_image->resize($product_rotator_image,$this->config->get($this->config->get('config_theme') . '_image_product_width'), $this->config->get($this->config->get('config_theme') . '_image_product_height')); 
				 } else {
				  $rotator_image = false;
				 } 
				} else {
				 $rotator_image = false;    
				}
				/// End Product Rotator /
			]]></add>
		</operation>
		<operation>
			<search><![CDATA[$data['header'] = $this->load->controller('common/header');]]></search>
			<add position="before"><![CDATA[
				$data['text_sale'] = $this->language->get('text_sale');
				$data['text_new'] = $this->language->get('text_new');
				$data['text_byprice'] = $this->language->get('text_byprice');
			]]></add>
		</operation>
		<operation>
			<search><![CDATA['product_id'  => $result['product_id'],]]></search>
			<add position="before"><![CDATA[
				'is_new'      => $is_new,
				'rotator_image' => $rotator_image,
				'price_num'       => $price_num,
				'special_num'     => $special_num,
			]]></add>
		</operation>
	</file>
	
	<file path="catalog/controller/product/product.php">
		<operation>
			<search><![CDATA[$results = $this->model_catalog_product->getProductRelated($this->request->get['product_id']);]]></search>
			<add position="before"><![CDATA[
				/* Get new product */
				$this->load->model('catalog/product');
		
				$data['new_products'] = array();
		
				$filter_data = array(
					'sort'  => 'p.date_added',
					'order' => 'DESC',
					'start' => 0,
					'limit' => 10
				);
		
				$new_results = $this->model_catalog_product->getProducts($filter_data);
				/* End */
			]]></add>
		</operation>
		<operation>
			<search><![CDATA[$data['products'][] = array(]]></search>
			<add position="before"><![CDATA[
				$is_new = false;
				if ($new_results) { 
					foreach($new_results as $new_r) {
						if($result['product_id'] == $new_r['product_id']) {
							$is_new = true;
						}
					}
				}
				if (($this->config->get('config_customer_price') && $this->customer->isLogged()) || !$this->config->get('config_customer_price')) {
					$price_num = $this->tax->calculate($result['price'], $result['tax_class_id'], $this->config->get('config_tax'));
				} else {
					$price_num = false;
				}

				if ((float)$result['special']) {
					$special_num = $this->tax->calculate($result['special'], $result['tax_class_id'], $this->config->get('config_tax'));
				} else {
					$special_num = false;
				}
				/// Product Rotator /
				$product_rotator_status = (int) $this->config->get('ocproductrotator_status');
				if($product_rotator_status == 1) {
				 $this->load->model('catalog/ocproductrotator');
				 $this->load->model('tool/image');
			 
				 $product_id = $result['product_id'];
				 $product_rotator_image = $this->model_catalog_ocproductrotator->getProductRotatorImage($product_id);
			 
				 if($product_rotator_image) {
				  $rotator_image = $this->model_tool_image->resize($product_rotator_image, $this->config->get($this->config->get('config_theme') . '_image_related_width'), $this->config->get($this->config->get('config_theme') . '_image_related_height')); 
				 } else {
				  $rotator_image = false;
				 } 
				} else {
				 $rotator_image = false;    
				}
				/// End Product Rotator /
			]]></add>
		</operation>
		<operation>
			<search><![CDATA[$data['header'] = $this->load->controller('common/header');]]></search>
			<add position="before"><![CDATA[
				$data['text_label_new'] = $this->language->get('text_label_new');
				$data['text_label_sale'] = $this->language->get('text_label_sale');
			]]></add>
		</operation>
		<operation>
			<search><![CDATA['rating'      => $rating,]]></search>
			<add position="after"><![CDATA[
				'is_new'      => $is_new,
				'rotator_image' => $rotator_image,
				'price_num'       => $price_num,
				'special_num'     => $special_num,
			]]></add>
		</operation>
		<operation>
			<search><![CDATA[$data['header'] = $this->load->controller('common/header');]]></search>
			<add position="after"><![CDATA[
				$data['text_sale'] = $this->language->get('text_sale');
				$data['text_new'] = $this->language->get('text_new');
				$data['text_byprice'] = $this->language->get('text_byprice');
			]]></add>
		</operation>
		<operation>
			<search><![CDATA[$data['description'] = html_entity_decode($product_info['description'], ENT_QUOTES, 'UTF-8');]]></search>
			<add position="after"><![CDATA[
				$data['short_description'] = utf8_substr(strip_tags(html_entity_decode($product_info['description'], ENT_QUOTES, 'UTF-8')), 0, $this->config->get($this->config->get('config_theme') . '_product_description_length')) . '..';
			]]></add>
		</operation>
	</file>
	
	<file path="catalog/controller/product/special.php">
		<operation>
			<search><![CDATA[$data['header'] = $this->load->controller('common/header');]]></search>
			<add position="after"><![CDATA[
				$data['text_label_new'] = $this->language->get('text_label_new');
				$data['text_label_sale'] = $this->language->get('text_label_sale');
				$data['text_readmore'] = $this->language->get('text_readmore');
			]]></add>
		</operation>
		
		<operation>
			<search><![CDATA[$results = $this->model_catalog_product->getProductSpecials($filter_data);]]></search>
			<add position="after"><![CDATA[
				/* Get new product */
				$this->load->model('catalog/product');
		
				$data['new_products'] = array();
		
				$filter_data = array(
					'sort'  => 'p.date_added',
					'order' => 'DESC',
					'start' => 0,
					'limit' => 10
				);
		
				$new_results = $this->model_catalog_product->getProducts($filter_data);
				/* End */
			]]></add>
		</operation>
		
		<operation>
			<search><![CDATA[$data['products'][] = array(]]></search>
			<add position="before"><![CDATA[
				$is_new = false;
				if ($new_results) { 
					foreach($new_results as $new_r) {
						if($result['product_id'] == $new_r['product_id']) {
							$is_new = true;
						}
					}
				}
				if (($this->config->get('config_customer_price') && $this->customer->isLogged()) || !$this->config->get('config_customer_price')) {
					$price_num = $this->tax->calculate($result['price'], $result['tax_class_id'], $this->config->get('config_tax'));
				} else {
					$price_num = false;
				}

				if ((float)$result['special']) {
					$special_num = $this->tax->calculate($result['special'], $result['tax_class_id'], $this->config->get('config_tax'));
				} else {
					$special_num = false;
				}
				/// Product Rotator /
				$product_rotator_status = (int) $this->config->get('ocproductrotator_status');
				if($product_rotator_status == 1) {
				 $this->load->model('catalog/ocproductrotator');
				 $this->load->model('tool/image');
			 
				 $product_id = $result['product_id'];
				 $product_rotator_image = $this->model_catalog_ocproductrotator->getProductRotatorImage($product_id);
			 
				 if($product_rotator_image) {
				  $rotator_image = $this->model_tool_image->resize($product_rotator_image, $this->config->get($this->config->get('config_theme') . '_image_product_width'), $this->config->get($this->config->get('config_theme') . '_image_product_height')); 
				 } else {
				  $rotator_image = false;
				 } 
				} else {
				 $rotator_image = false;    
				}
				/// End Product Rotator /
			]]></add>
		</operation>
		
		<operation>
			<search><![CDATA['rating'      => $result['rating'],]]></search>
			<add position="after"><![CDATA[
				'is_new'      => $is_new,
				'rotator_image' => $rotator_image,
				'price_num'       => $price_num,
				'special_num'     => $special_num,
			]]></add>
		</operation>
	</file>

	<file path="catalog/controller/product/search.php">
		<operation>
			<search><![CDATA[$data['header'] = $this->load->controller('common/header');]]></search>
			<add position="after"><![CDATA[
				$data['text_sale'] = $this->language->get('text_sale');
				$data['text_new'] = $this->language->get('text_new');
				$data['text_byprice'] = $this->language->get('text_byprice');
				$data['text_readmore'] = $this->language->get('text_readmore');
			]]></add>
		</operation>
		
		<operation>
			<search><![CDATA[$results = $this->model_catalog_product->getProducts($filter_data);]]></search>
			<add position="after"><![CDATA[
				/* Get new product */
				$this->load->model('catalog/product');
		
				$data['new_products'] = array();
		
				$filter_data = array(
					'sort'  => 'p.date_added',
					'order' => 'DESC',
					'start' => 0,
					'limit' => 10
				);
		
				$new_results = $this->model_catalog_product->getProducts($filter_data);
				/* End */
			]]></add>
		</operation>
		
		<operation>
			<search><![CDATA[$data['products'][] = array(]]></search>
			<add position="before"><![CDATA[
				$is_new = false;
				if ($new_results) { 
					foreach($new_results as $new_r) {
						if($result['product_id'] == $new_r['product_id']) {
							$is_new = true;
						}
					}
				}
				if (($this->config->get('config_customer_price') && $this->customer->isLogged()) || !$this->config->get('config_customer_price')) {
					$price_num = $this->tax->calculate($result['price'], $result['tax_class_id'], $this->config->get('config_tax'));
				} else {
					$price_num = false;
				}

				if ((float)$result['special']) {
					$special_num = $this->tax->calculate($result['special'], $result['tax_class_id'], $this->config->get('config_tax'));
				} else {
					$special_num = false;
				}
				/// Product Rotator /
				$product_rotator_status = (int) $this->config->get('ocproductrotator_status');
				if($product_rotator_status == 1) {
				 $this->load->model('catalog/ocproductrotator');
				 $this->load->model('tool/image');
			 
				 $product_id = $result['product_id'];
				 $product_rotator_image = $this->model_catalog_ocproductrotator->getProductRotatorImage($product_id);
			 
				 if($product_rotator_image) {
				  $rotator_image = $this->model_tool_image->resize($product_rotator_image, $this->config->get($this->config->get('config_theme') . '_image_product_width'), $this->config->get($this->config->get('config_theme') . '_image_product_height')); 
				 } else {
				  $rotator_image = false;
				 } 
				} else {
				 $rotator_image = false;    
				}
				/// End Product Rotator /
			]]></add>
		</operation>
		
		<operation>
			<search><![CDATA['rating'      => $result['rating'],]]></search>
			<add position="after"><![CDATA[
				'is_new'      => $is_new,
				'rotator_image' => $rotator_image,
				'price_num'       => $price_num,
				'special_num'     => $special_num,
			]]></add>
		</operation>
	</file>

	<file path="catalog/controller/product/manufacturer.php">
		<operation>
			<search><![CDATA[$data['header'] = $this->load->controller('common/header');]]></search>
			<add position="after"><![CDATA[
				$data['text_sale'] = $this->language->get('text_sale');
				$data['text_new'] = $this->language->get('text_new');
				$data['text_byprice'] = $this->language->get('text_byprice');
				$data['text_readmore'] = $this->language->get('text_readmore');
			]]></add>
		</operation>
		
		<operation>
			<search><![CDATA[$results = $this->model_catalog_product->getProducts($filter_data);]]></search>
			<add position="after"><![CDATA[
				/* Get new product */
				$this->load->model('catalog/product');
		
				$data['new_products'] = array();
		
				$filter_data = array(
					'sort'  => 'p.date_added',
					'order' => 'DESC',
					'start' => 0,
					'limit' => 10
				);
		
				$new_results = $this->model_catalog_product->getProducts($filter_data);
				/* End */
			]]></add>
		</operation>
		
		<operation>
			<search><![CDATA[$data['products'][] = array(]]></search>
			<add position="before"><![CDATA[
				$is_new = false;
				if ($new_results) { 
					foreach($new_results as $new_r) {
						if($result['product_id'] == $new_r['product_id']) {
							$is_new = true;
						}
					}
				}
				if (($this->config->get('config_customer_price') && $this->customer->isLogged()) || !$this->config->get('config_customer_price')) {
					$price_num = $this->tax->calculate($result['price'], $result['tax_class_id'], $this->config->get('config_tax'));
				} else {
					$price_num = false;
				}

				if ((float)$result['special']) {
					$special_num = $this->tax->calculate($result['special'], $result['tax_class_id'], $this->config->get('config_tax'));
				} else {
					$special_num = false;
				}
				/// Product Rotator /
				$product_rotator_status = (int) $this->config->get('ocproductrotator_status');
				if($product_rotator_status == 1) {
				 $this->load->model('catalog/ocproductrotator');
				 $this->load->model('tool/image');
			 
				 $product_id = $result['product_id'];
				 $product_rotator_image = $this->model_catalog_ocproductrotator->getProductRotatorImage($product_id);
			 
				 if($product_rotator_image) {
				  $rotator_image = $this->model_tool_image->resize($product_rotator_image, $this->config->get($this->config->get('config_theme') . '_image_product_width'), $this->config->get($this->config->get('config_theme') . '_image_product_height')); 
				 } else {
				  $rotator_image = false;
				 } 
				} else {
				 $rotator_image = false;    
				}
				/// End Product Rotator /
			]]></add>
		</operation>
		
		<operation>
			<search><![CDATA['rating'      => $result['rating'],]]></search>
			<add position="after"><![CDATA[
				'is_new'      => $is_new,
				'rotator_image' => $rotator_image,
				'price_num'       => $price_num,
				'special_num'     => $special_num,
			]]></add>
		</operation>
	</file>
</modification>